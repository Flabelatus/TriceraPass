<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Setup | Authentication Service API</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <!-- Default Prism.js theme -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/9000.0.1/themes/prism-coy.css" rel="stylesheet" />

    <link rel="stylesheet" href="./assets/css/style.css">
</head>

<style>
    /* Override the background color and string color */
    pre[class*="language-"] {
        background-color: #18171e !important;
        border-left: 0px #c1c1c1;
        /* Darker background */
    }

    .token.string {
        color: #57ff51;
        font-family: "Unifont";
        /* Green for strings */
    }

    .token.keyword {
        color: #c678dd;
        font-family: "Unifont";
        /* Purple for keywords */
    }

    .token.number {
        color: #6874ff;
        font-family: "Unifont";
    }

    .token.key {
        color: #d2d2d2;
        font-family: "Unifont";
    }
</style>

<body>
    <div class="container-fluid">
        <div class="row" style="min-height: 800px">
            <aside class="col-md-3 sidebar">
                <!-- Placeholder for the sidebar -->
                <div id="sidebar-placeholder"></div>
            </aside>

            <main class="col-md-9 content">

                <!-- Placeholder for the header -->
                <div id="header-placeholder"></div>

                <section style="margin-top: 40px;">

                    <h2>Requirements</h2>
                    <div
                        style="background-color: aliceblue; border: 1px solid #c1c1c1; padding-top: 2%; padding-bottom: 2%; height: fit-content;">
                        <ul>
                            <li>Golang 1.18 or higher</li>
                            <li>PostgreSQL 12 or higher</li>
                            <li>Go Modules enabled</li>
                        </ul>
                    </div>

                    <h2 style="margin-top: 40px;">Installation</h2>
                    <ol>
                        <li>Clone the repository:
                            <code>git clone https://github.com/your-username/auth-service.git</code>
                        </li>
                        <li>Navigate to the project folder: <code>cd auth-service</code></li>
                        <li>Install dependencies: <code>go mod tidy</code></li>
                        <li>Create the PostgreSQL database:
                            <code>docker-compose up -d</code>
                        </li>
                        <br />
                        <li>Configure the <code>settings.yml</code> file.</li>

                        <!-- Code block for settings.yml -->
                        <pre class="language-yaml" style="margin-top: 30px; margin-left: -30px;"><code class="language-yaml">
#./settings.yml
api:
    # Choose a name for your auth API service
    name: "TriceraPass Auth Service"
    version: "1.0.0"

    # Add your description
    description: "God creates dinosaurs. God destroys dinosaurs. God creates man. Man destroys God. Man creates dinosaurs."
    
    # For the CORS enabling
    allowedOrigins:
        - "http://localhost:3000"
        - "https://dr-malcom.com"
    
    # Adjust your ratelimit for API
    rateLimiting:
        requestsPerMinute: 100
        burst: 50

application:
    # You can add your client app which needs authentication here
    clientName: "Jurassic Login Park - Dino Auth Division"
    cookieDomain: "localhost"
    domain: "dr-malcom.com"

server:
    port: 1993
    host: "0.0.0.0"
    developmentMode: true

security:
    # Adjust the JWT fields according to your need
    jwt:
        secret: "TRICERATOPLESS-eb5d5e9f-86ac-4766-93e2-d760cbb86e7d"
        expirationTime: 3600
        issuer: "dr-malcom.com"
        audience: "dr-malcom.com"

logging:
    level: "INFO"
    format: "json"
    output: "stdout"

# Adjust your database credentials
database:
    type: "postgres"
    host: "localhost"
    port: 5432
    user: "velociRaptor"
    password: "CLevErG!rl"
    dbname: "dino-division"
    sslmode: "disable"
    timezone: "UTC"
    connect_timeout: 5

# Adjust your redis settings for caching
redis:
    host: "localhost"
    port: 6379
    expirationTime: 86400

# Add your own styles (this is only for the index page of the auth service)
styles:
    headerColor: "#ffff88"
    headerFont: "Ac437_Acer_VGA_8x8"
    bodyFont: "Unifont"
    bodyColor: "#ffff00"
    bodyBackground: "#3300ff"
    headerFontSize: "24px"
                                                </code></pre>
                        <br />

                        <li>Make sure the generate-env.sh is executable: <code>chmod +x generate-env.sh</code></li>
                        <li>Make sure the run.sh is executable:<code>chmod +x run.sh</code></li>
                        <br />
                        <li class="px-2" style="background-color: #f8ffc6; width: max-content;">Run the application:
                            <code>./run.sh</code>
                        </li>
                    </ol>
                </section>
                <div style="height: 140px;"></div>
            </main>
        </div>
    </div>

    <!-- Placeholder for the footer -->
    <div id="footer-placeholder"></div>

    <script>
        // Load the header content from header.html
        fetch('header.html')
            .then(response => {
                if (!response.ok) {
                    throw new Error(`HTTP error! Status: ${response.status}`);
                }
                return response.text();
            })
            .then(data => {
                document.getElementById('header-placeholder').innerHTML = data;
            })
            .catch(error => console.log('Error loading header:', error));

        // Load the sidebar content from sidebar.html
        fetch('sidebar.html')
            .then(response => {
                if (!response.ok) {
                    throw new Error(`HTTP error! Status: ${response.status}`);
                }
                return response.text();
            })
            .then(data => {
                document.getElementById('sidebar-placeholder').innerHTML = data;
            })
            .catch(error => console.log('Error loading footer:', error));

        // Load the footer content from footer.html
        fetch('footer.html')
            .then(response => {
                if (!response.ok) {
                    throw new Error(`HTTP error! Status: ${response.status}`);
                }
                return response.text();
            })
            .then(data => {
                document.getElementById('footer-placeholder').innerHTML = data;
            })
            .catch(error => console.log('Error loading footer:', error));
    </script>

    <!-- Prism.js JS for syntax highlighting -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/components/prism-yaml.min.js"></script>
</body>

</html>