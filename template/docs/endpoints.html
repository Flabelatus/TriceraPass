<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Endpoints | Authentication Service API</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="./assets/css/style.css">
</head>

<body>
    <div class="container-fluid">
        <div class="row" style="height: fit-content;">
            <aside class="col-md-3 sidebar">
                <!-- Placeholder for the sidebar -->
                <div id="sidebar-placeholder"></div>
            </aside>

            <main class="col-md-9 content">

                <!-- Placeholder for the header -->
                <div id="header-placeholder"></div>

                <section style="margin-top: 40px;">
                    <h2>Public Endpoints</h2>
                    <table class="table table-striped table-hover">
                        <thead class="table-dark">
                            <tr>
                                <th scope="col">Method</th>
                                <th scope="col">Endpoint</th>
                                <th scope="col">Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="method-get px-2 py-1">GET</span></td>
                                <td><code>/auth/api/</code></td>
                                <td>Check if the service is running</td>
                            </tr>
                            <tr>
                                <td><span class="method-post px-2 py-1">POST</span></td>
                                <td><code>/auth/api/login</code></td>
                                <td>Authenticate user and receive a JWT token</td>
                            </tr>
                            <tr>
                                <td><span class="method-post px-2 py-1">POST</span></td>
                                <td><code>/auth/api/refresh</code></td>
                                <td>Refresh JWT token</td>
                            </tr>
                            <tr>
                                <td><span class="method-post px-2 py-1">POST</span></td>
                                <td><code>/auth/api/register</code></td>
                                <td>Register a new user</td>
                            </tr>
                            <tr>
                                <td><span class="method-post px-2 py-1">POST</span></td>
                                <td><code>/auth/api/confirmation/{user_id}</code></td>
                                <td>Confirm a userâ€™s registration</td>
                            </tr>
                            <tr>
                                <td><span class="method-get px-2 py-1">GET</span></td>
                                <td><code>/auth/api/confirmation/user/{user_id}</code></td>
                                <td>Get the last confirmation details for a user</td>
                            </tr>
                            <tr>
                                <td><span class="method-get px-2 py-1">GET</span></td>
                                <td><code>/auth/api/user/{user_email}</code></td>
                                <td>Retrieve user details by email</td>
                            </tr>
                            <tr>
                                <td><span class="method-post px-2 py-1">POST</span></td>
                                <td><code>/auth/api/send_password_email</code></td>
                                <td>Send a password reset email</td>
                            </tr>
                            <tr>
                                <td><span class="method-post px-2 py-1">POST</span></td>
                                <td><code>/auth/api/user/password_reset/{user_id}</code></td>
                                <td>Reset password using user ID</td>
                            </tr>
                            <tr>
                                <td><span class="method-get px-2 py-1">GET</span></td>
                                <td><code>/auth/api/user/password_reset/token/{user_id}</code></td>
                                <td>Fetch password reset token using user ID</td>
                            </tr>
                            <tr>
                                <td><span class="method-post px-2 py-1">POST</span></td>
                                <td><code>/auth/api/user/password_reset/token/use/{user_id}</code></td>
                                <td>Mark password reset token as used</td>
                            </tr>
                        </tbody>
                    </table>
                </section>
                <br />
                <section>
                    <h2>Protected Endpoints</h2>
                    <p>These endpoints require JWT authentication:</p>
                    <table class="table table-striped table-hover">
                        <thead class="table-dark">
                            <tr>
                                <th scope="col">Method</th>
                                <th scope="col">Endpoint</th>
                                <th scope="col">Description</th>
                            </tr>
                        </thead>
                        <tbody class="table-dark-">
                            <tr>
                                <td><span class="method-post px-2 py-1">POST</span></td>
                                <td><code>/auth/api/logged_in/logout</code></td>
                                <td>Log out the authenticated user</td>
                            </tr>
                            <tr>
                                <td><span class="method-get px-2 py-1">GET</span></td>
                                <td><code>/auth/api/logged_in/user/{user_email}</code></td>
                                <td>Retrieve user details by email</td>
                            </tr>
                            <tr>
                                <td><span class="method-get px-2 py-1">GET</span></td>
                                <td><code>/auth/api/logged_in/user/{user_id}</code></td>
                                <td>Retrieve user details by user ID</td>
                            </tr>
                            <tr>
                                <td><span class="method-patch px-2 py-1">PATCH</span></td>
                                <td><code>/auth/api/logged_in/user/{user_id}</code></td>
                                <td>Update user details using user ID</td>
                            </tr>
                            <tr>
                                <td><span class="method-get px-2 py-1">GET</span></td>
                                <td><code>/auth/api/logged_in/user/profile/{filename}</code></td>
                                <td>Retrieve the user profile image</td>
                            </tr>
                            <tr>
                                <td><span class="method-post px-2 py-1">POST</span></td>
                                <td><code>/auth/api/logged_in/upload/profile</code></td>
                                <td>Upload a new profile image</td>
                            </tr>
                            <tr>
                                <td><span class="method-post px-2 py-1">POST</span></td>
                                <td><code>/auth/api/logged_in/user/password_reset/{user_id}</code></td>
                                <td>Reset the user password using user ID</td>
                            </tr>
                            <tr>
                                <td><span class="method-post px-2 py-1">POST</span></td>
                                <td><code>/auth/api/logged_in/user/send_password_email/{user_id}</code></td>
                                <td>Send a password reset email to the user</td>
                            </tr>
                        </tbody>
                    </table>
                </section>
                <div style="height: 100px;"></div>
            </main>
        </div>
    </div>

    <!-- Placeholder for the footer -->
    <div id="footer-placeholder"></div>

    <script>
        // Load the header content from header.html
        fetch('header.html')
            .then(response => {
                if (!response.ok) {
                    throw new Error(`HTTP error! Status: ${response.status}`);
                }
                return response.text();
            })
            .then(data => {
                document.getElementById('header-placeholder').innerHTML = data;
            })
            .catch(error => console.log('Error loading header:', error));

        // Load the sidebar content from sidebar.html
        fetch('sidebar.html')
            .then(response => {
                if (!response.ok) {
                    throw new Error(`HTTP error! Status: ${response.status}`);
                }
                return response.text();
            })
            .then(data => {
                document.getElementById('sidebar-placeholder').innerHTML = data;
            })
            .catch(error => console.log('Error loading footer:', error));

        // Load the footer content from footer.html
        fetch('footer.html')
            .then(response => {
                if (!response.ok) {
                    throw new Error(`HTTP error! Status: ${response.status}`);
                }
                return response.text();
            })
            .then(data => {
                document.getElementById('footer-placeholder').innerHTML = data;
            })
            .catch(error => console.log('Error loading footer:', error));
    </script>

    <!-- Bootstrap JS (optional) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+7HAuoJl+0I4pVx1ILy0D6rdGzvL4" crossorigin="anonymous" />
    </script>
</body>

</html>